DROP TABLE ApplicationRoleGroups;
CREATE TABLE ApplicationRoleGroups (RoleId NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, GroupId INT NOT NULL, CONSTRAINT PK_dbo.ApplicationRoleGroups PRIMARY KEY (RoleId, GroupId));
DROP TABLE ApplicationUserGroups;
CREATE TABLE ApplicationUserGroups (UserId NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, GroupId INT NOT NULL, CONSTRAINT PK_dbo.ApplicationUserGroups PRIMARY KEY (UserId, GroupId));
DROP TABLE AspNetRoles;
CREATE TABLE AspNetRoles (Id NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, Name NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, Description NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, Discriminator NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, CONSTRAINT PK_dbo.AspNetRoles PRIMARY KEY (Id));
DROP TABLE AspNetUserClaims;
CREATE TABLE AspNetUserClaims (Id INT NOT NULL IDENTITY, ClaimType NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, ClaimValue NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, User_Id NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, CONSTRAINT PK_dbo.AspNetUserClaims PRIMARY KEY (Id));
DROP TABLE AspNetUserLogins;
CREATE TABLE AspNetUserLogins (UserId NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, LoginProvider NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, ProviderKey NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, CONSTRAINT PK_dbo.AspNetUserLogins PRIMARY KEY (UserId, LoginProvider, ProviderKey));
DROP TABLE AspNetUserRoles;
CREATE TABLE AspNetUserRoles (UserId NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, RoleId NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, CONSTRAINT PK_dbo.AspNetUserRoles PRIMARY KEY (UserId, RoleId));
DROP TABLE AspNetUsers;
CREATE TABLE AspNetUsers (Id NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, UserName NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, PasswordHash NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, SecurityStamp NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, FirstName NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, LastName NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, Email NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, Discriminator NVARCHAR(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, CONSTRAINT PK_dbo.AspNetUsers PRIMARY KEY (Id));
DROP TABLE Attendees;
CREATE TABLE Attendees (ID INT NOT NULL IDENTITY, Text VARCHAR(2000) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, Value INT NOT NULL, Color VARCHAR(2000) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, Show BIT DEFAULT 1 NOT NULL, CONSTRAINT PK_Attendees PRIMARY KEY (ID));
DROP TABLE Groups;
CREATE TABLE Groups (Id INT NOT NULL IDENTITY, Name NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, CONSTRAINT PK_dbo.Groups PRIMARY KEY (Id));
DROP TABLE MeetingAttendees;
CREATE TABLE MeetingAttendees (MeetingID INT NOT NULL, AttendeeID INT NOT NULL, CONSTRAINT PK_MeetingAtendee PRIMARY KEY (MeetingID, AttendeeID));
DROP TABLE Meetings;
CREATE TABLE Meetings (MeetingID INT NOT NULL IDENTITY, Start DATETIME NOT NULL, End DATETIME NOT NULL, Title NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, Description NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, RoomID INT, IsAllDay BIT NOT NULL, RecurrenceRule NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, RecurrenceID INT, RecurrenceException NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, StartTimezone NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, EndTimezone NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, CONSTRAINT PK_Meeting PRIMARY KEY (MeetingID));
DROP TABLE Room;
CREATE TABLE Room (ID INT NOT NULL IDENTITY, Text VARCHAR(2000) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, Value INT NOT NULL, Color VARCHAR(2000) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, Show BIT DEFAULT 1 NOT NULL, CONSTRAINT PK_Room PRIMARY KEY (ID));
DROP TABLE SysEvents;
CREATE TABLE SysEvents (ID BIGINT NOT NULL IDENTITY, Level NVARCHAR(500) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, Message NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, UpdateAt DATETIME NOT NULL, CreateBy NVARCHAR(500) COLLATE SQL_Latin1_General_CP1_CI_AS, PRIMARY KEY (ID));
DROP TABLE SysSetting;
CREATE TABLE SysSetting (ID INT NOT NULL IDENTITY, KeyName NVARCHAR(50) COLLATE SQL_Latin1_General_CP1_CI_AS, ValueType NVARCHAR(50) COLLATE SQL_Latin1_General_CP1_CI_AS, Value NVARCHAR(2000) COLLATE SQL_Latin1_General_CP1_CI_AS, Description NVARCHAR(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS, KeyGroup NVARCHAR(50) COLLATE SQL_Latin1_General_CP1_CI_AS, PRIMARY KEY (ID));
DROP TABLE Tasks;
CREATE TABLE Tasks (TaskID INT NOT NULL IDENTITY, Start DATETIME NOT NULL, End DATETIME NOT NULL, Title NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, Description NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, OwnerID INT, IsAllDay BIT NOT NULL, RecurrenceRule NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, RecurrenceID INT, RecurrenceException NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, StartTimezone NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, EndTimezone NTEXT COLLATE SQL_Latin1_General_CP1_CI_AS, CONSTRAINT PK_Tasks PRIMARY KEY (TaskID));
DROP TABLE __MigrationHistory;
CREATE TABLE __MigrationHistory (MigrationId NVARCHAR(150) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, ContextKey NVARCHAR(300) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, Model VARBINARY(MAX) NOT NULL, ProductVersion NVARCHAR(32) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL, CONSTRAINT PK_dbo.__MigrationHistory PRIMARY KEY (MigrationId, ContextKey));
ALTER TABLE ApplicationRoleGroups ADD CONSTRAINT FK_dbo.ApplicationRoleGroups_dbo.AspNetRoles_RoleId FOREIGN KEY (RoleId) REFERENCES AspNetRoles (Id) ON DELETE CASCADE;
ALTER TABLE ApplicationRoleGroups ADD CONSTRAINT FK_dbo.ApplicationRoleGroups_dbo.Groups_GroupId FOREIGN KEY (GroupId) REFERENCES Groups (Id) ON DELETE CASCADE;
ALTER TABLE ApplicationUserGroups ADD CONSTRAINT FK_dbo.ApplicationUserGroups_dbo.AspNetUsers_UserId FOREIGN KEY (UserId) REFERENCES AspNetUsers (Id) ON DELETE CASCADE;
ALTER TABLE ApplicationUserGroups ADD CONSTRAINT FK_dbo.ApplicationUserGroups_dbo.Groups_GroupId FOREIGN KEY (GroupId) REFERENCES Groups (Id) ON DELETE CASCADE;
ALTER TABLE AspNetUserClaims ADD CONSTRAINT FK_dbo.AspNetUserClaims_dbo.AspNetUsers_User_Id FOREIGN KEY (User_Id) REFERENCES AspNetUsers (Id) ON DELETE CASCADE;
ALTER TABLE AspNetUserLogins ADD CONSTRAINT FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId FOREIGN KEY (UserId) REFERENCES AspNetUsers (Id) ON DELETE CASCADE;
ALTER TABLE AspNetUserRoles ADD CONSTRAINT FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId FOREIGN KEY (RoleId) REFERENCES AspNetRoles (Id) ON DELETE CASCADE;
ALTER TABLE AspNetUserRoles ADD CONSTRAINT FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId FOREIGN KEY (UserId) REFERENCES AspNetUsers (Id) ON DELETE CASCADE;
ALTER TABLE MeetingAttendees ADD CONSTRAINT FK_MeetingAtendee_Meeting FOREIGN KEY (MeetingID) REFERENCES Meetings (MeetingID);
ALTER TABLE Meetings ADD CONSTRAINT FK_Meetings_Meetings FOREIGN KEY (RecurrenceID) REFERENCES Meetings (MeetingID);
ALTER TABLE Tasks ADD CONSTRAINT FK_Tasks_Tasks FOREIGN KEY (RecurrenceID) REFERENCES Tasks (TaskID);
